--
-- PostgreSQL database dump
--

\restrict Y1d4j6rqkXTfLlHnLmWdNZUarchMzKcD7xIETBJGzvPIJe9orOoHPnaCwG0ydme

-- Dumped from database version 18.1
-- Dumped by pg_dump version 18.1 (Debian 18.1-1.pgdg13+2)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: pgcrypto; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pgcrypto WITH SCHEMA public;


--
-- Name: EXTENSION pgcrypto; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION pgcrypto IS 'cryptographic functions';


--
-- Name: address_type; Type: TYPE; Schema: public; Owner: -
--

CREATE TYPE public.address_type AS ENUM (
    'SHIPPING',
    'BILLING'
);


--
-- Name: cart_status; Type: TYPE; Schema: public; Owner: -
--

CREATE TYPE public.cart_status AS ENUM (
    'ACTIVE',
    'CHECKED_OUT',
    'ABANDONED'
);


--
-- Name: order_status; Type: TYPE; Schema: public; Owner: -
--

CREATE TYPE public.order_status AS ENUM (
    'CREATED',
    'PAYMENT_PENDING',
    'PAID',
    'SHIPPED',
    'DELIVERED',
    'CANCELLED',
    'REFUNDED',
    'PENDING',
    'PAYMENT_CONFIRMING'
);


--
-- Name: payment_provider; Type: TYPE; Schema: public; Owner: -
--

CREATE TYPE public.payment_provider AS ENUM (
    'STRIPE',
    'ADYEN',
    'PAYPAL'
);


--
-- Name: payment_status; Type: TYPE; Schema: public; Owner: -
--

CREATE TYPE public.payment_status AS ENUM (
    'REQUIRES_PAYMENT',
    'PROCESSING',
    'SUCCEEDED',
    'FAILED',
    'CANCELLED',
    'REFUNDED'
);


--
-- Name: vendor_status; Type: TYPE; Schema: public; Owner: -
--

CREATE TYPE public.vendor_status AS ENUM (
    'PENDING',
    'APPROVED',
    'SUSPENDED'
);


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: addresses; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.addresses (
    id bigint NOT NULL,
    created_at timestamp(6) with time zone NOT NULL,
    updated_at timestamp(6) with time zone NOT NULL,
    city character varying(120) NOT NULL,
    country character varying(2) NOT NULL,
    is_default_billing boolean NOT NULL,
    is_default_shipping boolean NOT NULL,
    full_name character varying(200),
    label character varying(80),
    line1 character varying(200) NOT NULL,
    line2 character varying(200),
    phone character varying(40),
    postal_code character varying(20) NOT NULL,
    type character varying(255) NOT NULL,
    user_id bigint NOT NULL,
    CONSTRAINT addresses_type_check CHECK (((type)::text = ANY ((ARRAY['SHIPPING'::character varying, 'BILLING'::character varying])::text[])))
);


--
-- Name: addresses_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.addresses ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.addresses_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: cart_items; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.cart_items (
    id bigint NOT NULL,
    currency character varying(3) NOT NULL,
    quantity integer NOT NULL,
    unit_price_snapshot numeric(12,2) NOT NULL,
    cart_id bigint NOT NULL,
    product_id bigint NOT NULL
);


--
-- Name: cart_items_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.cart_items ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.cart_items_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: carts; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.carts (
    id bigint NOT NULL,
    created_at timestamp(6) with time zone NOT NULL,
    updated_at timestamp(6) with time zone NOT NULL,
    status character varying(255) NOT NULL,
    user_id bigint NOT NULL,
    CONSTRAINT carts_status_check CHECK (((status)::text = ANY ((ARRAY['ACTIVE'::character varying, 'CHECKED_OUT'::character varying, 'ABANDONED'::character varying])::text[])))
);


--
-- Name: carts_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.carts ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.carts_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: categories; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.categories (
    id bigint NOT NULL,
    created_at timestamp(6) with time zone NOT NULL,
    name character varying(120) NOT NULL,
    parent_id bigint
);


--
-- Name: categories_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.categories ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.categories_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: conversation_participants; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.conversation_participants (
    id bigint NOT NULL,
    conversation_id bigint NOT NULL,
    user_id bigint NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


--
-- Name: conversation_participants_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.conversation_participants_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: conversation_participants_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.conversation_participants_id_seq OWNED BY public.conversation_participants.id;


--
-- Name: conversations; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.conversations (
    id bigint NOT NULL,
    last_message_at timestamp with time zone,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


--
-- Name: conversations_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.conversations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: conversations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.conversations_id_seq OWNED BY public.conversations.id;


--
-- Name: databasechangelog; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.databasechangelog (
    id character varying(255) NOT NULL,
    author character varying(255) NOT NULL,
    filename character varying(255) NOT NULL,
    dateexecuted timestamp without time zone NOT NULL,
    orderexecuted integer NOT NULL,
    exectype character varying(10) NOT NULL,
    md5sum character varying(35),
    description character varying(255),
    comments character varying(255),
    tag character varying(255),
    liquibase character varying(20),
    contexts character varying(255),
    labels character varying(255),
    deployment_id character varying(10)
);


--
-- Name: databasechangeloglock; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.databasechangeloglock (
    id integer NOT NULL,
    locked boolean NOT NULL,
    lockgranted timestamp without time zone,
    lockedby character varying(255)
);


--
-- Name: favorites; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.favorites (
    id bigint NOT NULL,
    user_id bigint NOT NULL,
    product_id bigint NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


--
-- Name: favorites_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.favorites_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: favorites_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.favorites_id_seq OWNED BY public.favorites.id;


--
-- Name: messages; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.messages (
    id bigint NOT NULL,
    conversation_id bigint NOT NULL,
    sender_id bigint NOT NULL,
    body character varying(4000) NOT NULL,
    read_at timestamp with time zone,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


--
-- Name: messages_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.messages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: messages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.messages_id_seq OWNED BY public.messages.id;


--
-- Name: notifications; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.notifications (
    id bigint NOT NULL,
    created_at timestamp(6) with time zone NOT NULL,
    updated_at timestamp(6) with time zone NOT NULL,
    link character varying(500),
    message character varying(2000) NOT NULL,
    is_read boolean NOT NULL,
    read_at timestamp(6) with time zone,
    title character varying(200) NOT NULL,
    type character varying(60) NOT NULL,
    user_id bigint NOT NULL,
    CONSTRAINT notifications_type_check CHECK (((type)::text = ANY ((ARRAY['PRODUCT_CREATED'::character varying, 'FAVORITE_ADDED'::character varying])::text[])))
);


--
-- Name: notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.notifications ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.notifications_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: order_items; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.order_items (
    id bigint NOT NULL,
    currency character varying(3) NOT NULL,
    line_total numeric(12,2) NOT NULL,
    product_name_snapshot character varying(200) NOT NULL,
    quantity integer NOT NULL,
    unit_price_snapshot numeric(12,2) NOT NULL,
    order_id bigint NOT NULL,
    product_id bigint NOT NULL,
    vendor_id bigint NOT NULL
);


--
-- Name: order_items_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.order_items ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.order_items_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: orders; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.orders (
    id bigint NOT NULL,
    created_at timestamp(6) with time zone NOT NULL,
    updated_at timestamp(6) with time zone NOT NULL,
    currency character varying(3) NOT NULL,
    status character varying(255) DEFAULT 'PENDING'::character varying NOT NULL,
    total_amount numeric(12,2) NOT NULL,
    billing_address_id bigint,
    shipping_address_id bigint,
    user_id bigint NOT NULL,
    payment_method character varying(50),
    shipping_method character varying(50),
    shipping_price numeric(12,2),
    CONSTRAINT orders_status_check CHECK (((status)::text = ANY ((ARRAY['CREATED'::character varying, 'PAYMENT_PENDING'::character varying, 'PAID'::character varying, 'SHIPPED'::character varying, 'DELIVERED'::character varying, 'CANCELLED'::character varying, 'REFUNDED'::character varying])::text[])))
);


--
-- Name: orders_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.orders ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.orders_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: payments; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.payments (
    id bigint NOT NULL,
    created_at timestamp(6) with time zone NOT NULL,
    updated_at timestamp(6) with time zone NOT NULL,
    amount numeric(12,2) NOT NULL,
    currency character varying(3) NOT NULL,
    idempotency_key character varying(80) NOT NULL,
    provider character varying(255) NOT NULL,
    provider_payment_intent_id character varying(200),
    provider_session_id character varying(200),
    status character varying(255) NOT NULL,
    order_id bigint NOT NULL,
    CONSTRAINT payments_provider_check CHECK (((provider)::text = ANY ((ARRAY['STRIPE'::character varying, 'ADYEN'::character varying, 'PAYPAL'::character varying])::text[]))),
    CONSTRAINT payments_status_check CHECK (((status)::text = ANY ((ARRAY['REQUIRES_PAYMENT'::character varying, 'PROCESSING'::character varying, 'SUCCEEDED'::character varying, 'FAILED'::character varying, 'CANCELLED'::character varying, 'REFUNDED'::character varying])::text[])))
);


--
-- Name: payments_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.payments ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.payments_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: product_images; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.product_images (
    id bigint NOT NULL,
    sort_order integer NOT NULL,
    url text NOT NULL,
    product_id bigint NOT NULL
);


--
-- Name: product_images_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.product_images ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_images_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: products; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.products (
    id bigint NOT NULL,
    created_at timestamp(6) with time zone NOT NULL,
    updated_at timestamp(6) with time zone NOT NULL,
    active boolean NOT NULL,
    brand character varying(80),
    currency character varying(3) NOT NULL,
    description text,
    name character varying(200) NOT NULL,
    price numeric(12,2) NOT NULL,
    sku character varying(64) NOT NULL,
    stock_qty integer NOT NULL,
    category_id bigint,
    vendor_id bigint NOT NULL,
    location_text character varying(200),
    latitude double precision,
    longitude double precision
);


--
-- Name: products_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.products ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.products_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: users; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.users (
    id bigint NOT NULL,
    email character varying(254) NOT NULL,
    enabled boolean NOT NULL,
    password character varying(200) NOT NULL,
    role character varying(50) NOT NULL,
    username character varying(150) NOT NULL,
    display_name character varying(200),
    phone character varying(40),
    keycloak_id character varying(64) NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: vendors; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.vendors (
    id bigint NOT NULL,
    created_at timestamp(6) with time zone NOT NULL,
    updated_at timestamp(6) with time zone NOT NULL,
    iban character varying(64),
    legal_name character varying(200),
    shop_name character varying(160) NOT NULL,
    status character varying(255) NOT NULL,
    vat_number character varying(80),
    user_id bigint NOT NULL,
    CONSTRAINT vendors_status_check CHECK (((status)::text = ANY ((ARRAY['PENDING'::character varying, 'APPROVED'::character varying, 'SUSPENDED'::character varying])::text[])))
);


--
-- Name: vendors_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.vendors ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.vendors_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: conversation_participants id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.conversation_participants ALTER COLUMN id SET DEFAULT nextval('public.conversation_participants_id_seq'::regclass);


--
-- Name: conversations id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.conversations ALTER COLUMN id SET DEFAULT nextval('public.conversations_id_seq'::regclass);


--
-- Name: favorites id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.favorites ALTER COLUMN id SET DEFAULT nextval('public.favorites_id_seq'::regclass);


--
-- Name: messages id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.messages ALTER COLUMN id SET DEFAULT nextval('public.messages_id_seq'::regclass);


--
-- Data for Name: addresses; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.addresses (id, created_at, updated_at, city, country, is_default_billing, is_default_shipping, full_name, label, line1, line2, phone, postal_code, type, user_id) FROM stdin;
1	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 1	Home	1 rue de Localys	\N	\N	31000	SHIPPING	12
2	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 1	Billing	1 avenue de Localys	\N	\N	31000	BILLING	12
3	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 2	Home	2 rue de Localys	\N	\N	31000	SHIPPING	2
4	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 2	Billing	2 avenue de Localys	\N	\N	31000	BILLING	2
5	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 3	Home	3 rue de Localys	\N	\N	31000	SHIPPING	8
6	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 3	Billing	3 avenue de Localys	\N	\N	31000	BILLING	8
7	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 4	Home	4 rue de Localys	\N	\N	31000	SHIPPING	15
8	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 4	Billing	4 avenue de Localys	\N	\N	31000	BILLING	15
9	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 5	Home	5 rue de Localys	\N	\N	31000	SHIPPING	12
10	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 5	Billing	5 avenue de Localys	\N	\N	31000	BILLING	12
11	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 6	Home	6 rue de Localys	\N	\N	31000	SHIPPING	4
12	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 6	Billing	6 avenue de Localys	\N	\N	31000	BILLING	4
13	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 7	Home	7 rue de Localys	\N	\N	31000	SHIPPING	9
14	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 7	Billing	7 avenue de Localys	\N	\N	31000	BILLING	9
15	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 8	Home	8 rue de Localys	\N	\N	31000	SHIPPING	2
16	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 8	Billing	8 avenue de Localys	\N	\N	31000	BILLING	2
17	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 9	Home	9 rue de Localys	\N	\N	31000	SHIPPING	10
18	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 9	Billing	9 avenue de Localys	\N	\N	31000	BILLING	10
19	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 10	Home	10 rue de Localys	\N	\N	31000	SHIPPING	6
20	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 10	Billing	10 avenue de Localys	\N	\N	31000	BILLING	6
21	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 11	Home	11 rue de Localys	\N	\N	31000	SHIPPING	7
22	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 11	Billing	11 avenue de Localys	\N	\N	31000	BILLING	7
23	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 12	Home	12 rue de Localys	\N	\N	31000	SHIPPING	2
24	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 12	Billing	12 avenue de Localys	\N	\N	31000	BILLING	2
25	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 13	Home	13 rue de Localys	\N	\N	31000	SHIPPING	7
26	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 13	Billing	13 avenue de Localys	\N	\N	31000	BILLING	7
27	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 14	Home	14 rue de Localys	\N	\N	31000	SHIPPING	11
28	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 14	Billing	14 avenue de Localys	\N	\N	31000	BILLING	11
29	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	f	t	User 15	Home	15 rue de Localys	\N	\N	31000	SHIPPING	6
30	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	Toulouse	FR	t	f	User 15	Billing	15 avenue de Localys	\N	\N	31000	BILLING	6
31	2026-01-14 16:45:19.960773+01	2026-01-14 16:45:19.960773+01	st-lys	TR	f	t	test user 4	home	st-lys		0478541463	31470	SHIPPING	31
32	2026-01-14 16:55:04.374911+01	2026-01-14 16:55:04.374911+01	St-LYS	FR	t	f	test user 4	home2	2 rue du 1er janvier 		07854851255	31470	BILLING	31
33	2026-01-15 09:38:07.284968+01	2026-01-15 09:38:07.284968+01	toulouse	FR	f	f	ev adresi	ev	adre ev	adress ev	04250782077	31100	SHIPPING	31
34	2026-01-17 22:28:45.021189+01	2026-01-17 22:28:45.021189+01	St-Lys	FR	f	f	test 	is	2 rue du 1er janiver 		3358489464	31470	SHIPPING	30
\.


--
-- Data for Name: cart_items; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.cart_items (id, currency, quantity, unit_price_snapshot, cart_id, product_id) FROM stdin;
7	EUR	1	50.00	16	3
23	EUR	1	120.00	17	8
\.


--
-- Data for Name: carts; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.carts (id, created_at, updated_at, status, user_id) FROM stdin;
1	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ABANDONED	1
2	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ABANDONED	2
4	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ACTIVE	5
5	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ABANDONED	1
6	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	CHECKED_OUT	12
7	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ACTIVE	1
8	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ACTIVE	14
9	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ACTIVE	7
10	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ACTIVE	9
11	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ABANDONED	13
12	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	CHECKED_OUT	13
13	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ABANDONED	4
14	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ACTIVE	3
15	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ABANDONED	10
3	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	ABANDONED	5
16	2026-01-17 00:08:28.413026+01	2026-01-17 00:08:28.413026+01	ACTIVE	31
17	2026-01-17 00:11:25.144747+01	2026-01-17 00:11:25.144747+01	ACTIVE	30
18	2026-01-24 00:09:10.118421+01	2026-01-24 00:09:10.118421+01	ACTIVE	26
19	2026-01-24 00:09:28.33654+01	2026-01-24 00:09:28.33654+01	ACTIVE	29
\.


--
-- Data for Name: categories; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.categories (id, created_at, name, parent_id) FROM stdin;
44	2026-01-16 16:21:09.772237+01	Electronics	\N
45	2026-01-16 16:21:09.772237+01	Home & Living	\N
46	2026-01-16 16:21:09.772237+01	Fashion	\N
47	2026-01-16 16:21:09.772237+01	Vehicles	\N
48	2026-01-16 16:21:09.772237+01	Sports & Outdoors	\N
49	2026-01-16 16:21:09.772237+01	Laptops	44
50	2026-01-16 16:21:09.772237+01	Desktops	44
51	2026-01-16 16:21:09.772237+01	Gaming Consoles	44
52	2026-01-16 16:21:09.772237+01	Phones	44
53	2026-01-16 16:21:09.772237+01	Tablets	44
54	2026-01-16 16:21:09.772237+01	Furniture	45
55	2026-01-16 16:21:09.772237+01	Appliances	45
56	2026-01-16 16:21:09.772237+01	Decor	45
57	2026-01-16 16:21:09.772237+01	Women	46
58	2026-01-16 16:21:09.772237+01	Men	46
59	2026-01-16 16:21:09.772237+01	Kids	46
60	2026-01-16 16:21:09.772237+01	Accessories	46
61	2026-01-16 16:21:09.772237+01	Cars	47
62	2026-01-16 16:21:09.772237+01	Motorcycles	47
63	2026-01-16 16:21:09.772237+01	Bicycles	47
64	2026-01-16 16:21:09.772237+01	Fitness	48
65	2026-01-16 16:21:09.772237+01	Camping	48
66	2026-01-16 16:21:09.772237+01	Cycling	48
\.


--
-- Data for Name: conversation_participants; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.conversation_participants (id, conversation_id, user_id, created_at, updated_at) FROM stdin;
1	1	31	2026-01-16 20:21:21.391782+01	2026-01-16 20:21:21.391782+01
2	1	30	2026-01-16 20:21:21.396444+01	2026-01-16 20:21:21.396444+01
3	2	26	2026-01-16 20:42:25.007511+01	2026-01-16 20:42:25.007511+01
4	2	30	2026-01-16 20:42:25.010998+01	2026-01-16 20:42:25.010998+01
\.


--
-- Data for Name: conversations; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.conversations (id, last_message_at, created_at, updated_at) FROM stdin;
1	2026-01-16 20:24:27.844442+01	2026-01-16 20:21:21.349082+01	2026-01-16 20:24:27.855033+01
2	2026-01-16 20:42:35.873636+01	2026-01-16 20:42:24.997511+01	2026-01-16 20:42:35.880013+01
\.


--
-- Data for Name: databasechangelog; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.databasechangelog (id, author, filename, dateexecuted, orderexecuted, exectype, md5sum, description, comments, tag, liquibase, contexts, labels, deployment_id) FROM stdin;
001-init	codex	db/changelog/db.changelog-master.yaml	2025-12-23 23:12:00.785824	1	EXECUTED	9:a86e1608be240c8c0d354ead483fb319	sqlFile path=db/migration/V1__init.sql		\N	4.27.0	\N	\N	6527920652
001a-cleanup-active-carts	codex	db/changelog/db.changelog-master.yaml	2025-12-23 23:12:00.799946	2	EXECUTED	9:8caa58624264f886139757e3d7412496	sqlFile path=db/migration/V1a__cleanup_active_carts.sql		\N	4.27.0	\N	\N	6527920652
001b-create-unique-active-cart-index	codex	db/changelog/db.changelog-master.yaml	2025-12-23 23:12:00.811725	3	EXECUTED	9:4243eb9fb28376108ed607fa890997e8	sqlFile path=db/migration/V1b__create_unique_active_cart_index.sql		\N	4.27.0	\N	\N	6527920652
002-add-user-auth-columns	codex	db/changelog/db.changelog-master.yaml	2025-12-23 23:12:00.839764	4	EXECUTED	9:225c0e47c5634fbfd80e85dab09128e7	sqlFile path=db/migration/V2__add_user_auth_columns.sql		\N	4.27.0	\N	\N	6527920652
003-seed-vendor-users	codex	db/changelog/db.changelog-master.yaml	2025-12-23 23:20:40.509481	5	EXECUTED	9:d69662c71f9a3e56ace6ac6345fa1d37	sqlFile path=db/migration/V3__seed_vendor_users.sql		\N	4.27.0	\N	\N	6528440449
004-seed-demo-users	codex	db/changelog/db.changelog-master.yaml	2025-12-23 23:20:40.554288	6	EXECUTED	9:0d231191aa563343d24967f6c9c86fc1	sqlFile path=db/migration/V4__seed_demo_users.sql		\N	4.27.0	\N	\N	6528440449
005-backfill-user-audit-columns	codex	db/changelog/db.changelog-master.yaml	2025-12-23 23:24:46.063172	7	EXECUTED	9:904f1b6648ccbc8febe38feb3302b5ac	sqlFile path=db/migration/V5__backfill_user_audit_columns.sql		\N	4.27.0	\N	\N	6528686046
006-create-favorites	codex	db/changelog/db.changelog-master.yaml	2026-01-16 15:25:47.76954	8	EXECUTED	9:c17d90f78c36d00cb872510909b84a2c	sqlFile path=db/migration/V6__create_favorites.sql		\N	4.27.0	\N	\N	8573547714
007-seed-categories	codex	db/changelog/db.changelog-master.yaml	2026-01-16 15:58:23.469992	9	EXECUTED	9:180635d9b5397590958dc7d0f40e65f6	sqlFile path=db/migration/V7__seed_categories.sql		\N	4.27.0	\N	\N	8575503429
008-reset-categories	codex	db/changelog/db.changelog-master.yaml	2026-01-16 16:21:09.806892	10	EXECUTED	9:24de9c91471e2038486e4d14a0310642	sqlFile path=db/migration/V8__reset_categories.sql		\N	4.27.0	\N	\N	8576869763
009-truncate-products	codex	db/changelog/db.changelog-master.yaml	2026-01-16 16:44:13.825252	11	EXECUTED	9:394a072c77a48d163dc54884da9a88de	sqlFile path=db/migration/V9__truncate_products.sql		\N	4.27.0	\N	\N	8578253756
010-create-conversations	codex	db/changelog/db.changelog-master.yaml	2026-01-16 17:16:48.457571	12	EXECUTED	9:4eecaa1304d5dfc724ebf3396aa4f4d2	sqlFile path=db/migration/V10__create_conversations.sql		\N	4.27.0	\N	\N	8580208407
011-add-product-location	codex	db/changelog/db.changelog-master.yaml	2026-01-16 21:10:05.827585	13	EXECUTED	9:f8ea5afb566ee8029632b02dd96c6aae	sqlFile path=db/migration/V11__add_product_location.sql		\N	4.27.0	\N	\N	8594205801
012-order-status-and-shipping	codex	db/changelog/db.changelog-master.yaml	2026-01-22 21:25:02.150278	14	EXECUTED	9:f5a6fd8265a50ebf8623c2dff616d063	sqlFile path=db/migration/V12__order_status_and_shipping.sql		\N	4.27.0	\N	\N	9113502086
013-create-notifications	codex	db/changelog/db.changelog-master.yaml	2026-01-22 21:48:56.707749	15	EXECUTED	9:4957fc92ca926e4ec7bbc371eac557de	sqlFile path=db/migration/V13__create_notifications.sql		\N	4.27.0	\N	\N	9114936652
014-update-notification-types	codex	db/changelog/db.changelog-master.yaml	2026-01-24 00:46:35.490381	16	EXECUTED	9:8d49c1076501687c32e4a6532988e55a	sqlFile path=db/migration/V14__update_notification_types.sql		\N	4.27.0	\N	\N	9211995452
\.


--
-- Data for Name: databasechangeloglock; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.databasechangeloglock (id, locked, lockgranted, lockedby) FROM stdin;
1	f	\N	\N
\.


--
-- Data for Name: favorites; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.favorites (id, user_id, product_id, created_at, updated_at) FROM stdin;
56	31	4	2026-01-24 00:47:01.790761+01	2026-01-24 00:47:01.790761+01
57	30	8	2026-01-24 00:47:43.143688+01	2026-01-24 00:47:43.143688+01
\.


--
-- Data for Name: messages; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.messages (id, conversation_id, sender_id, body, read_at, created_at, updated_at) FROM stdin;
1	1	31	hello is still available	\N	2026-01-16 20:22:47.531156+01	2026-01-16 20:22:47.531156+01
2	1	30	yes available	\N	2026-01-16 20:24:27.844442+01	2026-01-16 20:24:27.844442+01
3	2	26	is it available	\N	2026-01-16 20:42:35.873636+01	2026-01-16 20:42:35.873636+01
\.


--
-- Data for Name: notifications; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.notifications (id, created_at, updated_at, link, message, is_read, read_at, title, type, user_id) FROM stdin;
1	2026-01-19 19:32:09.785251+01	2026-01-19 19:32:47.564717+01	/listings	Your listing "velo btwin" is now live.	t	2026-01-19 19:32:47.563703+01	Listing created	PRODUCT_CREATED	30
54	2026-01-24 00:46:52.827328+01	2026-01-24 00:46:52.827328+01	/products/4	testuser4 testuser4 "Peugeot 2008" urununu favorilerine ekledi.	f	\N	Favori eklendi	FAVORITE_ADDED	30
55	2026-01-24 00:47:01.795762+01	2026-01-24 00:47:01.795762+01	/products/4	testuser4 testuser4 "Peugeot 2008" urununu favorilerine ekledi.	f	\N	Favori eklendi	FAVORITE_ADDED	30
56	2026-01-24 00:47:43.147589+01	2026-01-24 00:47:43.147589+01	/products/8	testuser2 testuser2 "earpod" urununu favorilerine ekledi.	f	\N	Favori eklendi	FAVORITE_ADDED	26
\.


--
-- Data for Name: order_items; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.order_items (id, currency, line_total, product_name_snapshot, quantity, unit_price_snapshot, order_id, product_id, vendor_id) FROM stdin;
1	EUR	140.00	Imac	1	140.00	11	6	13
2	EUR	120.00	earpod	1	120.00	12	8	15
3	EUR	120.00	earpod	1	120.00	13	8	15
4	EUR	120.00	earpod	1	120.00	14	8	15
5	EUR	190.00	IPhone SE	1	190.00	15	7	13
6	EUR	140.00	Imac	1	140.00	16	6	13
7	EUR	120.00	earpod	1	120.00	17	8	15
8	EUR	140.00	Imac	1	140.00	18	6	13
9	EUR	120.00	earpod	1	120.00	19	8	15
10	EUR	190.00	IPhone SE	1	190.00	20	7	13
11	EUR	190.00	IPhone SE	1	190.00	21	7	13
12	EUR	120.00	earpod	1	120.00	22	8	15
\.


--
-- Data for Name: orders; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.orders (id, created_at, updated_at, currency, status, total_amount, billing_address_id, shipping_address_id, user_id, payment_method, shipping_method, shipping_price) FROM stdin;
1	2025-12-19 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	EUR	PAID	182.39	\N	\N	14	\N	\N	\N
2	2025-12-18 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	EUR	SHIPPED	23.04	\N	\N	5	\N	\N	\N
3	2025-12-17 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	EUR	DELIVERED	245.99	4	23	2	\N	\N	\N
4	2025-12-16 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	EUR	CANCELLED	265.66	\N	\N	13	\N	\N	\N
5	2025-12-15 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	EUR	PAID	266.90	8	7	15	\N	\N	\N
6	2025-12-14 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	EUR	PAYMENT_PENDING	249.73	2	1	12	\N	\N	\N
7	2025-12-13 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	EUR	DELIVERED	103.18	6	5	8	\N	\N	\N
8	2025-12-12 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	EUR	SHIPPED	318.02	\N	\N	5	\N	\N	\N
9	2025-12-11 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	EUR	SHIPPED	97.73	16	23	2	\N	\N	\N
10	2025-12-10 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	EUR	CANCELLED	138.21	\N	\N	5	\N	\N	\N
11	2026-01-17 22:28:45.108731+01	2026-01-17 22:28:45.108731+01	EUR	PAYMENT_PENDING	144.90	34	34	30	card	mondial	4.90
12	2026-01-17 23:01:13.411756+01	2026-01-17 23:01:13.411756+01	EUR	PAYMENT_PENDING	124.90	34	34	30	STRIPE	mondial	4.90
13	2026-01-17 23:02:38.694349+01	2026-01-17 23:02:38.694349+01	EUR	PAYMENT_PENDING	128.90	34	34	30	STRIPE	chronopost	8.90
14	2026-01-17 23:07:20.633366+01	2026-01-17 23:07:20.633366+01	EUR	PAYMENT_PENDING	124.90	34	34	30	STRIPE	mondial	4.90
15	2026-01-17 23:26:26.427539+01	2026-01-17 23:26:26.427539+01	EUR	PAYMENT_PENDING	194.90	34	34	30	STRIPE	mondial	4.90
16	2026-01-17 23:28:06.995486+01	2026-01-17 23:28:06.995486+01	EUR	PAYMENT_PENDING	144.90	34	34	30	STRIPE	mondial	4.90
17	2026-01-17 23:32:43.839018+01	2026-01-17 23:32:43.839018+01	EUR	PAYMENT_PENDING	124.90	34	34	30	STRIPE	mondial	4.90
18	2026-01-17 23:36:16.382208+01	2026-01-17 23:36:16.382208+01	EUR	PAYMENT_PENDING	144.90	34	34	30	STRIPE	mondial	4.90
19	2026-01-17 23:41:21.27654+01	2026-01-17 23:41:21.27654+01	EUR	PAYMENT_PENDING	124.90	34	34	30	STRIPE	mondial	4.90
20	2026-01-17 23:44:27.421209+01	2026-01-17 23:44:27.421209+01	EUR	PAYMENT_PENDING	194.90	34	34	30	STRIPE	mondial	4.90
21	2026-01-17 23:55:21.646933+01	2026-01-17 23:55:21.646933+01	EUR	PAYMENT_PENDING	194.90	34	34	30	STRIPE	mondial	4.90
22	2026-01-18 00:07:05.445347+01	2026-01-18 00:07:05.445347+01	EUR	PAYMENT_PENDING	124.90	34	34	30	STRIPE	mondial	4.90
\.


--
-- Data for Name: payments; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.payments (id, created_at, updated_at, amount, currency, idempotency_key, provider, provider_payment_intent_id, provider_session_id, status, order_id) FROM stdin;
1	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	149.62	EUR	64fcb805-2a41-4ff5-970b-66e011e50e6f	ADYEN	\N	\N	REQUIRES_PAYMENT	1
2	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	165.00	EUR	2dc67f72-0df6-4b7b-8f9c-e3d732579cd7	ADYEN	\N	\N	FAILED	2
3	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	241.57	EUR	ce2d1059-e2c3-4592-bbdd-342a6991997f	STRIPE	\N	\N	REFUNDED	3
4	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	267.62	EUR	6df7c183-78d1-4d40-aba2-334edf3539c9	STRIPE	\N	\N	SUCCEEDED	4
5	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	241.51	EUR	37813b7c-2bac-40a1-b2d8-b338565157c6	ADYEN	\N	\N	REFUNDED	5
6	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	44.76	EUR	0ff5de19-7ae1-476a-a1e0-05664ced1c59	ADYEN	\N	\N	FAILED	6
7	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	245.92	EUR	c791952f-c345-4cc1-96c7-6430ba028252	PAYPAL	\N	\N	PROCESSING	7
8	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	208.49	EUR	9e6b746a-6926-4029-87e2-dea9d28613b8	PAYPAL	\N	\N	REQUIRES_PAYMENT	8
9	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	36.88	EUR	3c323e39-e02d-420d-8709-5f9bcc4e9d03	PAYPAL	\N	\N	FAILED	9
10	2025-12-20 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	163.33	EUR	b0543d05-e149-45d8-a18a-946682d7ca9d	ADYEN	\N	\N	SUCCEEDED	10
11	2026-01-18 00:07:07.177619+01	2026-01-18 00:07:07.177619+01	124.90	EUR	1db55cef-1f17-464d-b9d5-2776155881ef	STRIPE	\N	cs_test_b1dIbwB2iIEfm4ZObKLDl7XtsPFVLKda7VqBw5YYfNJu1hS2JLwlFTSkfX	PROCESSING	22
\.


--
-- Data for Name: product_images; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.product_images (id, sort_order, url, product_id) FROM stdin;
1	0	/uploads/listings/1/9cebe99200614c2a993f85ba58ae1b43.png	1
2	0	/uploads/listings/2/a968067990a6485d81ceb374a789285f.png	2
3	0	/uploads/listings/3/bd6abfdd691f4af78dc970a1ba74a1e7.png	3
4	0	/uploads/listings/4/103e2411832f44c79097bc98bad6bf1a.jpg	4
5	0	/uploads/listings/5/141c00eb374747da90cff623d9cf237a.jpg	5
6	0	/uploads/listings/6/6bb50dcd434b4ad3b0ed77130a6596e4.png	6
7	0	/uploads/listings/7/9169a8654f3542dea1e2450222af0a00.png	7
8	0	/uploads/listings/8/2c826e8a94174ccdb40287b4d0e29877.png	8
9	1	/uploads/listings/8/06fb668961564a71a247ca678333a714.png	8
10	2	/uploads/listings/8/b6d5389f3d504ef99228a5f17fbcad52.png	8
11	0	/uploads/listings/9/a0521ccc0c344ad6a4292a7c4774a895.png	9
\.


--
-- Data for Name: products; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.products (id, created_at, updated_at, active, brand, currency, description, name, price, sku, stock_qty, category_id, vendor_id, location_text, latitude, longitude) FROM stdin;
3	2026-01-16 16:48:57.455521+01	2026-01-16 16:48:57.455521+01	t	HP	EUR		Keyboard Set	50.00	LCY-AC3F4850	1	50	14	\N	\N	\N
5	2026-01-16 16:53:21.586261+01	2026-01-16 16:53:21.586261+01	t	Peugeot	EUR	Peugeot Ion Elektrik	Peugeot Ion	3900.00	LCY-990E131C	1	61	13	\N	\N	\N
6	2026-01-16 16:54:17.109468+01	2026-01-16 16:54:17.109468+01	t	Apple	EUR	Apple IMac 21 inches 	Imac	140.00	LCY-DFA1E5A3	1	50	13	\N	\N	\N
8	2026-01-16 20:41:20.192747+01	2026-01-16 20:41:20.192747+01	t	apple	EUR	earpod 4	earpod	120.00	LCY-1977BFF8	1	52	15	\N	\N	\N
1	2026-01-16 16:46:22.205477+01	2026-01-16 22:17:59.006122+01	t	Apple	EUR	very good condition	MacbookAir	100.00	LCY-4E752FE9	1	49	14	Saint-Lys	43.512677	1.19304
2	2026-01-16 16:48:00.491088+01	2026-01-16 23:08:20.863363+01	t	ASUS	EUR	gaming mini pc	Mini Pc Gamer	450.00	LCY-3FE67FD3	1	50	14	Saint-Lys	43.512677	1.19304
7	2026-01-16 16:55:17.347271+01	2026-01-17 01:01:05.040625+01	t	Apple	EUR	Apple Iphone SE 2024	IPhone SE	190.00	LCY-FB933886	3	52	13		\N	\N
9	2026-01-19 19:32:09.733726+01	2026-01-19 19:32:09.733726+01	t	BTwin	EUR	very good condition 	velo btwin	70.00	velo	1	66	14	Saint-Lys	43.512677	1.19304
4	2026-01-16 16:51:01.766818+01	2026-01-19 19:37:30.920001+01	t	Peugeot	EUR	2014 Peugeot 2008 172000km	Peugeot 2008	5300.00	LCY-0A574ED4	1	61	14	rue du 1er janvier 1949 31470 Saint-Lys	43.523074	1.188867
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.users (id, email, enabled, password, role, username, display_name, phone, keycloak_id, created_at, updated_at) FROM stdin;
20	vendor1@example.com	t	$2a$06$VWI8qZpKr5G998f1C/O/oOBowtCVBeQ994GL9EHmNvL8G9VQDHcLa	ROLE_VENDOR	vendor1	Vendor One	\N	kc_vendor1_sub	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
21	vendor2@example.com	t	$2a$06$de7ICkpuk1wMHzDu7OBFYORcCOUpzsV0gNhtwpoZ/hTbF/0FHfZPq	ROLE_VENDOR	vendor2	Vendor Two	\N	kc_vendor2_sub	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
27	admin@example.com	t	$2a$06$2LiK7RhvseujvD8YoylHkO5OkFXVK.CrBV14qa15BvRoIGg7K8r6e	ROLE_ADMIN	admin	admin1 admin1	\N	kc_admin_sub	2025-12-23 23:24:46.052709+01	2025-12-29 17:51:32.905271+01
1	user1_dff376@localys.dev	t	{noop}password1	CUSTOMER	user1_c859fc	User 1	\N	legacy_1	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
2	user2_2c9fd6@localys.dev	t	{noop}password2	CUSTOMER	user2_180b7d	User 2	\N	legacy_2	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
3	user3_97085e@localys.dev	t	{noop}password3	CUSTOMER	user3_bd088d	User 3	\N	legacy_3	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
4	user4_5263e8@localys.dev	t	{noop}password4	CUSTOMER	user4_c5f02c	User 4	\N	legacy_4	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
5	user5_06d59a@localys.dev	t	{noop}password5	CUSTOMER	user5_dd2ad3	User 5	\N	legacy_5	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
6	user6_6fc114@localys.dev	t	{noop}password6	CUSTOMER	user6_b7e713	User 6	\N	legacy_6	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
7	user7_d8b8b0@localys.dev	t	{noop}password7	CUSTOMER	user7_d36f72	User 7	\N	legacy_7	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
8	user8_76d0e0@localys.dev	t	{noop}password8	CUSTOMER	user8_d2741c	User 8	\N	legacy_8	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
9	user9_1a3b31@localys.dev	t	{noop}password9	CUSTOMER	user9_30af76	User 9	\N	legacy_9	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
10	user10_e4c69b@localys.dev	t	{noop}password10	CUSTOMER	user10_168a8b	User 10	\N	legacy_10	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
11	user11_22b432@localys.dev	t	{noop}password11	CUSTOMER	user11_a32e87	User 11	\N	legacy_11	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
12	user12_80b357@localys.dev	t	{noop}password12	CUSTOMER	user12_c3735d	User 12	\N	legacy_12	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
13	user13_d7c432@localys.dev	t	{noop}password13	CUSTOMER	user13_e11ac2	User 13	\N	legacy_13	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
14	user14_a8182d@localys.dev	t	{noop}password14	CUSTOMER	user14_f51728	User 14	\N	legacy_14	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
15	user15_2782cd@localys.dev	t	{noop}password15	CUSTOMER	user15_3cbce4	User 15	\N	legacy_15	2025-12-23 23:24:46.052709+01	2025-12-23 23:24:46.052709+01
29	testuser2@localys.com	t	6fa9f9c1-023d-4598-945c-7299fab9c639	ROLE_USER	testuser2	testuser2 testuser2	\N	3b746f6f-48f6-453b-8389-55457822d909	2026-01-10 23:13:35.615253+01	2026-01-10 23:13:35.615253+01
30	testuser@localys.com	t	1b444e5a-145f-4fcd-b28d-f25fbbd1a147	ROLE_USER	testuser3	testuser2 testuser2	\N	efa708c9-478d-4c8f-ae92-df48b5e19aba	2026-01-14 13:42:16.197347+01	2026-01-14 13:42:16.197347+01
31	testuser4@localys.com	t	ad3fb87d-58df-4ac1-9e4e-8a6aa0e3796d	ROLE_USER	testuser4	testuser4 testuser4	0752848123	208b63a4-6b9c-4b76-a885-a17ef4af529f	2026-01-14 15:24:13.089678+01	2026-01-14 16:51:26.507565+01
26	testuser@example.com	t	$2a$06$haKC28lxDzkSZlHsojChtujSmqmu52z4QAJ7lSr9CWNuQ56jmMHya	ROLE_USER	testuser	testuser testuser		kc_testuser_sub	2025-12-23 23:24:46.052709+01	2026-01-16 20:38:29.474577+01
\.


--
-- Data for Name: vendors; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.vendors (id, created_at, updated_at, iban, legal_name, shop_name, status, vat_number, user_id) FROM stdin;
1	2025-12-19 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	\N	\N	Shop 1	PENDING	\N	11
2	2025-12-18 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	\N	\N	Shop 2	PENDING	\N	8
3	2025-12-17 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	\N	\N	Shop 3	APPROVED	\N	3
4	2025-12-16 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	\N	\N	Shop 4	SUSPENDED	\N	10
5	2025-12-15 21:37:02.566008+01	2025-12-20 21:37:02.566008+01	\N	\N	Shop 5	SUSPENDED	\N	12
7	2025-12-23 23:17:42.713989+01	2025-12-23 23:17:42.713989+01	TR000000000000000000000001	Vendor One LLC	Vendor One Shop	APPROVED	VEND001	20
8	2025-12-23 23:17:42.713989+01	2025-12-23 23:17:42.713989+01	TR000000000000000000000002	Vendor Two SAS	Vendor Two Atelier	APPROVED	VEND002	21
12	2025-12-23 23:20:40.514942+01	2025-12-23 23:20:40.514942+01	\N	Localys SARL	Localys Shop	APPROVED	FRXX999999	27
13	2026-01-15 16:47:48.362584+01	2026-01-15 16:47:48.362584+01	\N	testuser4 testuser4	testuser4 testuser4	APPROVED	\N	31
14	2026-01-16 15:46:49.972612+01	2026-01-16 15:46:49.972612+01	\N	testuser2 testuser2	testuser2 testuser2	APPROVED	\N	30
15	2026-01-16 20:41:20.170025+01	2026-01-16 20:41:20.170025+01	\N	testuser testuser	testuser testuser	APPROVED	\N	26
\.


--
-- Name: addresses_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.addresses_id_seq', 34, true);


--
-- Name: cart_items_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.cart_items_id_seq', 23, true);


--
-- Name: carts_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.carts_id_seq', 19, true);


--
-- Name: categories_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.categories_id_seq', 66, true);


--
-- Name: conversation_participants_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.conversation_participants_id_seq', 4, true);


--
-- Name: conversations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.conversations_id_seq', 2, true);


--
-- Name: favorites_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.favorites_id_seq', 57, true);


--
-- Name: messages_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.messages_id_seq', 3, true);


--
-- Name: notifications_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.notifications_id_seq', 56, true);


--
-- Name: order_items_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.order_items_id_seq', 12, true);


--
-- Name: orders_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.orders_id_seq', 22, true);


--
-- Name: payments_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.payments_id_seq', 11, true);


--
-- Name: product_images_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.product_images_id_seq', 11, true);


--
-- Name: products_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.products_id_seq', 9, true);


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.users_id_seq', 31, true);


--
-- Name: vendors_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.vendors_id_seq', 15, true);


--
-- Name: addresses addresses_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.addresses
    ADD CONSTRAINT addresses_pkey PRIMARY KEY (id);


--
-- Name: cart_items cart_items_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.cart_items
    ADD CONSTRAINT cart_items_pkey PRIMARY KEY (id);


--
-- Name: carts carts_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.carts
    ADD CONSTRAINT carts_pkey PRIMARY KEY (id);


--
-- Name: categories categories_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.categories
    ADD CONSTRAINT categories_pkey PRIMARY KEY (id);


--
-- Name: conversation_participants conversation_participants_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.conversation_participants
    ADD CONSTRAINT conversation_participants_pkey PRIMARY KEY (id);


--
-- Name: conversations conversations_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.conversations
    ADD CONSTRAINT conversations_pkey PRIMARY KEY (id);


--
-- Name: databasechangeloglock databasechangeloglock_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.databasechangeloglock
    ADD CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (id);


--
-- Name: favorites favorites_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.favorites
    ADD CONSTRAINT favorites_pkey PRIMARY KEY (id);


--
-- Name: messages messages_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_pkey PRIMARY KEY (id);


--
-- Name: notifications notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.notifications
    ADD CONSTRAINT notifications_pkey PRIMARY KEY (id);


--
-- Name: order_items order_items_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.order_items
    ADD CONSTRAINT order_items_pkey PRIMARY KEY (id);


--
-- Name: orders orders_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_pkey PRIMARY KEY (id);


--
-- Name: payments payments_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.payments
    ADD CONSTRAINT payments_pkey PRIMARY KEY (id);


--
-- Name: product_images product_images_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.product_images
    ADD CONSTRAINT product_images_pkey PRIMARY KEY (id);


--
-- Name: products products_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_pkey PRIMARY KEY (id);


--
-- Name: users uk6dotkott2kjsp8vw4d0m25fb7; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT uk6dotkott2kjsp8vw4d0m25fb7 UNIQUE (email);


--
-- Name: conversation_participants uk9sr5qudr0ccvvi0q4idhmpgt5; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.conversation_participants
    ADD CONSTRAINT uk9sr5qudr0ccvvi0q4idhmpgt5 UNIQUE (conversation_id, user_id);


--
-- Name: products ukfhmd06dsmj6k0n90swsh8ie9g; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT ukfhmd06dsmj6k0n90swsh8ie9g UNIQUE (sku);


--
-- Name: vendors uki4fsfxe266yl9oye02ongwl8; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.vendors
    ADD CONSTRAINT uki4fsfxe266yl9oye02ongwl8 UNIQUE (user_id);


--
-- Name: users ukr43af9ap4edm43mmtq01oddj6; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT ukr43af9ap4edm43mmtq01oddj6 UNIQUE (username);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: cart_items ux_cart_item_unique_product; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.cart_items
    ADD CONSTRAINT ux_cart_item_unique_product UNIQUE (cart_id, product_id);


--
-- Name: payments ux_payments_idempotency; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.payments
    ADD CONSTRAINT ux_payments_idempotency UNIQUE (idempotency_key);


--
-- Name: payments ux_payments_order; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.payments
    ADD CONSTRAINT ux_payments_order UNIQUE (order_id);


--
-- Name: vendors vendors_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.vendors
    ADD CONSTRAINT vendors_pkey PRIMARY KEY (id);


--
-- Name: idx_addresses_user; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_addresses_user ON public.addresses USING btree (user_id);


--
-- Name: idx_cart_items_cart; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_cart_items_cart ON public.cart_items USING btree (cart_id);


--
-- Name: idx_carts_status; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_carts_status ON public.carts USING btree (status);


--
-- Name: idx_carts_user; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_carts_user ON public.carts USING btree (user_id);


--
-- Name: idx_conversation_participants_user; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_conversation_participants_user ON public.conversation_participants USING btree (user_id);


--
-- Name: idx_favorites_product; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_favorites_product ON public.favorites USING btree (product_id);


--
-- Name: idx_favorites_user; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_favorites_user ON public.favorites USING btree (user_id);


--
-- Name: idx_messages_conversation; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_messages_conversation ON public.messages USING btree (conversation_id, created_at DESC);


--
-- Name: idx_messages_sender; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_messages_sender ON public.messages USING btree (sender_id);


--
-- Name: idx_notifications_user_created_at; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_notifications_user_created_at ON public.notifications USING btree (user_id, created_at DESC);


--
-- Name: idx_notifications_user_read; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_notifications_user_read ON public.notifications USING btree (user_id, is_read);


--
-- Name: idx_order_items_order; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_order_items_order ON public.order_items USING btree (order_id);


--
-- Name: idx_order_items_vendor; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_order_items_vendor ON public.order_items USING btree (vendor_id);


--
-- Name: idx_orders_status; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_orders_status ON public.orders USING btree (status);


--
-- Name: idx_orders_user; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_orders_user ON public.orders USING btree (user_id);


--
-- Name: idx_product_images_product; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_product_images_product ON public.product_images USING btree (product_id);


--
-- Name: idx_products_active; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_products_active ON public.products USING btree (active);


--
-- Name: idx_products_category; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_products_category ON public.products USING btree (category_id);


--
-- Name: idx_products_vendor; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_products_vendor ON public.products USING btree (vendor_id);


--
-- Name: idx_users_email; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_users_email ON public.users USING btree (email);


--
-- Name: idx_users_username; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_users_username ON public.users USING btree (username);


--
-- Name: idx_vendors_status; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX idx_vendors_status ON public.vendors USING btree (status);


--
-- Name: ux_categories_name_parent; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX ux_categories_name_parent ON public.categories USING btree (name, COALESCE(parent_id, (0)::bigint));


--
-- Name: ux_conversation_participants; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX ux_conversation_participants ON public.conversation_participants USING btree (conversation_id, user_id);


--
-- Name: ux_favorites_user_product; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX ux_favorites_user_product ON public.favorites USING btree (user_id, product_id);


--
-- Name: ux_one_active_cart_per_user; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX ux_one_active_cart_per_user ON public.carts USING btree (user_id) WHERE ((status)::text = 'ACTIVE'::text);


--
-- Name: ux_users_keycloak_id; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX ux_users_keycloak_id ON public.users USING btree (keycloak_id);


--
-- Name: conversation_participants conversation_participants_conversation_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.conversation_participants
    ADD CONSTRAINT conversation_participants_conversation_id_fkey FOREIGN KEY (conversation_id) REFERENCES public.conversations(id) ON DELETE CASCADE;


--
-- Name: conversation_participants conversation_participants_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.conversation_participants
    ADD CONSTRAINT conversation_participants_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: favorites favorites_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.favorites
    ADD CONSTRAINT favorites_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(id) ON DELETE CASCADE;


--
-- Name: favorites favorites_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.favorites
    ADD CONSTRAINT favorites_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: addresses fk1fa36y2oqhao3wgg2rw1pi459; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.addresses
    ADD CONSTRAINT fk1fa36y2oqhao3wgg2rw1pi459 FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: cart_items fk1re40cjegsfvw58xrkdp6bac6; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.cart_items
    ADD CONSTRAINT fk1re40cjegsfvw58xrkdp6bac6 FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- Name: orders fk32ql8ubntj5uh44ph9659tiih; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk32ql8ubntj5uh44ph9659tiih FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: orders fk66jolu65brloux12yi37qy3ky; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk66jolu65brloux12yi37qy3ky FOREIGN KEY (billing_address_id) REFERENCES public.addresses(id);


--
-- Name: payments fk81gagumt0r8y3rmudcgpbk42l; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.payments
    ADD CONSTRAINT fk81gagumt0r8y3rmudcgpbk42l FOREIGN KEY (order_id) REFERENCES public.orders(id);


--
-- Name: notifications fk9y21adhxn0ayjhfocscqox7bh; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.notifications
    ADD CONSTRAINT fk9y21adhxn0ayjhfocscqox7bh FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: carts fkb5o626f86h46m4s7ms6ginnop; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.carts
    ADD CONSTRAINT fkb5o626f86h46m4s7ms6ginnop FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: order_items fkbioxgbv59vetrxe0ejfubep1w; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.order_items
    ADD CONSTRAINT fkbioxgbv59vetrxe0ejfubep1w FOREIGN KEY (order_id) REFERENCES public.orders(id);


--
-- Name: order_items fkh2b04eyamwe2jqedwv3lbrx7f; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.order_items
    ADD CONSTRAINT fkh2b04eyamwe2jqedwv3lbrx7f FOREIGN KEY (vendor_id) REFERENCES public.vendors(id);


--
-- Name: vendors fkiuqso7j7nivq7sb3v3v4j7ein; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.vendors
    ADD CONSTRAINT fkiuqso7j7nivq7sb3v3v4j7ein FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: orders fkmk6q95x8ffidq82wlqjaq7sqc; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fkmk6q95x8ffidq82wlqjaq7sqc FOREIGN KEY (shipping_address_id) REFERENCES public.addresses(id);


--
-- Name: order_items fkocimc7dtr037rh4ls4l95nlfi; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.order_items
    ADD CONSTRAINT fkocimc7dtr037rh4ls4l95nlfi FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- Name: products fkog2rp4qthbtt2lfyhfo32lsw9; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT fkog2rp4qthbtt2lfyhfo32lsw9 FOREIGN KEY (category_id) REFERENCES public.categories(id);


--
-- Name: cart_items fkpcttvuq4mxppo8sxggjtn5i2c; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.cart_items
    ADD CONSTRAINT fkpcttvuq4mxppo8sxggjtn5i2c FOREIGN KEY (cart_id) REFERENCES public.carts(id);


--
-- Name: product_images fkqnq71xsohugpqwf3c9gxmsuy; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.product_images
    ADD CONSTRAINT fkqnq71xsohugpqwf3c9gxmsuy FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- Name: products fks6kdu75k7ub4s95ydsr52p59s; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT fks6kdu75k7ub4s95ydsr52p59s FOREIGN KEY (vendor_id) REFERENCES public.vendors(id);


--
-- Name: categories fksaok720gsu4u2wrgbk10b5n8d; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.categories
    ADD CONSTRAINT fksaok720gsu4u2wrgbk10b5n8d FOREIGN KEY (parent_id) REFERENCES public.categories(id);


--
-- Name: messages messages_conversation_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_conversation_id_fkey FOREIGN KEY (conversation_id) REFERENCES public.conversations(id) ON DELETE CASCADE;


--
-- Name: messages messages_sender_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_sender_id_fkey FOREIGN KEY (sender_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- PostgreSQL database dump complete
--

\unrestrict Y1d4j6rqkXTfLlHnLmWdNZUarchMzKcD7xIETBJGzvPIJe9orOoHPnaCwG0ydme

